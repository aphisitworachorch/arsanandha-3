<script setup lang="ts">
import {useHead} from "nuxt/app";
const props = defineProps(['id'])
const innerData = reactive({
  from: "",
  message: "",
  reply: "",
})
async function getThankful(id: string) {
  const {data} = await useFetch('/api/thankful/thankful-get', {
    headers: {'Content-Type': 'application/json'},
    body:{
      id,
    },
    method: 'POST'
  });

  innerData.from = data?.value?.result?.from;
  innerData.message = data?.value?.result?.message;
  innerData.reply = data?.value?.result?.reply;
}
await getThankful(props.id)

useHead({
  title: `üíå ‡∏Ç‡πâ‡∏≠‡∏Ñ‡∏ß‡∏≤‡∏°‡∏ñ‡∏∂‡∏á ${innerData.from}`,
  meta:[
    { hid: 'og-type', property: 'og:type', content: 'website' },
    { hid: 'og-title', property: 'og:title' ,content: `‡∏Ç‡πâ‡∏≠‡∏Ñ‡∏ß‡∏≤‡∏°‡∏ñ‡∏∂‡∏á ${innerData.from}`},
    { hid: 'og-desc', property: 'og:description', content: innerData.reply },
    { hid: 'og-image', property: 'og:image',
      content: 'https://picsum.photos/1600/900?grayscale'
    },
    { hid: 'og-url', property: 'og:url', content: `https://arsanandha.xyz/thankful/${props.id}` },
    { hid: 't-type', name: 'twitter:card', content: 'summary_large_image' },

  ]
})
</script>

<template>
  <div class="transition-all ease-in-out delay-75 container font-apFont p-3 md:p-6 rounded-b-xl rounded-t-xl drop-shadow-2xl glassmorhpism">
    <div class="transition-all duration-50 ease-in-out delay-75 transform-gpu subpixel-antialiased flex flex-col md:flex-row m-3">
      <div class="p-2 text-left rounded-b-xl rounded-t-xl">
        <div class="card max-w-screen text-white font-apThai">
          <div class="card-body">
            <h2 class="card-title text-3xl">‡∏Ç‡∏≠‡∏ö‡∏Ñ‡∏∏‡∏ì‡∏à‡∏≤‡∏Å‡πÉ‡∏à</h2>
            <div>
              <p class="text-bold pb-5 text-wrap italic">" ‡∏î‡πâ‡∏ß‡∏¢‡∏Ñ‡∏≥‡πÅ‡∏™‡∏î‡∏á‡∏Ñ‡∏ß‡∏≤‡∏°‡∏¢‡∏¥‡∏ô‡∏î‡∏µ‡∏ó‡∏µ‡πà‡∏ó‡πà‡∏≤‡∏ô‡πÑ‡∏î‡πâ‡πÄ‡∏Ñ‡∏¢‡∏Å‡∏£‡∏≠‡∏Å‡πÑ‡∏ß‡πâ‡πÄ‡∏°‡∏∑‡πà‡∏≠‡πÑ‡∏°‡πà‡∏Å‡∏µ‡πà‡∏õ‡∏µ‡∏ó‡∏µ‡πà‡∏ú‡πà‡∏≤‡∏ô‡∏°‡∏≤‡∏ô‡∏µ‡πâ <b>‡πÄ‡∏ô‡∏∑‡πà‡∏≠‡∏á‡πÉ‡∏ô‡πÇ‡∏≠‡∏Å‡∏≤‡∏™‡πÅ‡∏™‡∏î‡∏á‡∏Ñ‡∏ß‡∏≤‡∏°‡∏¢‡∏¥‡∏ô‡∏î‡∏µ‡∏ú‡∏π‡πâ‡∏™‡∏≥‡πÄ‡∏£‡πá‡∏à‡∏Å‡∏≤‡∏£‡∏®‡∏∂‡∏Å‡∏©‡∏≤ ‡∏ì ‡∏°‡∏´‡∏≤‡∏ß‡∏¥‡∏ó‡∏¢‡∏≤‡∏•‡∏±‡∏¢‡πÄ‡∏ó‡∏Ñ‡πÇ‡∏ô‡πÇ‡∏•‡∏¢‡∏µ‡∏™‡∏∏‡∏£‡∏ô‡∏≤‡∏£‡∏µ</b> ‡∏Ç‡πâ‡∏≤‡∏û‡πÄ‡∏à‡πâ‡∏≤‡∏û‡∏∂‡πà‡∏á‡∏°‡∏µ‡πÇ‡∏≠‡∏Å‡∏≤‡∏™‡∏ó‡∏µ‡πà‡∏à‡∏∞‡πÑ‡∏î‡πâ‡∏Ñ‡∏∏‡πâ‡∏¢‡∏Ç‡πâ‡∏≠‡∏Ñ‡∏ß‡∏≤‡∏°‡∏î‡∏±‡∏á‡∏Å‡∏•‡πà‡∏≤‡∏ß‡∏°‡∏≤ ‡πÄ‡∏û‡∏∑‡πà‡∏≠‡∏ó‡∏µ‡πà‡∏à‡∏∞‡πÄ‡∏õ‡πá‡∏ô‡πÅ‡∏£‡∏á‡πÅ‡∏•‡∏∞‡∏Å‡∏≥‡∏•‡∏±‡∏á‡πÉ‡∏à‡πÉ‡∏ô‡∏Å‡∏≤‡∏£‡πÉ‡∏ä‡πâ‡∏ä‡∏µ‡∏ß‡∏¥‡∏ï‡∏ï‡πà‡∏≠‡πÑ‡∏õ."</p>
            </div>
            <div class="flex items-center text-white pb-5">
              <div class="flex-1 border-t-2 border-white"></div>
            </div>
            <div>
              <p class="font-bold pb-5"> ‡∏ñ‡∏∂‡∏á {{innerData.from}}</p>
              <h2 class="text-pretty text-xl break-words whitespace-pre-wrap tracking-wide leading-7">{{innerData.reply}}</h2>
            </div>
            <div class="flex items-center text-white pt-5">
              <div class="flex-1 border-t-2 border-white"></div>
            </div>
            <div class="card-actions pt-5 opacity-10">
              <p>‡∏õ‡∏•. ‡∏Ç‡πâ‡∏≠‡∏Ñ‡∏ß‡∏≤‡∏°‡∏ó‡∏µ‡πà‡∏ó‡πà‡∏≤‡∏ô‡πÄ‡∏´‡πá‡∏ô‡∏ñ‡∏π‡∏Å‡∏Å‡∏π‡πâ‡∏à‡∏≤‡∏Å Database ‡πÄ‡∏°‡∏∑‡πà‡∏≠ 4 ‡∏õ‡∏µ‡∏ó‡∏µ‡πà‡πÅ‡∏•‡πâ‡∏ß, ‡∏Ç‡∏≠‡∏≠‡∏†‡∏±‡∏¢‡∏ó‡∏µ‡πà‡∏°‡∏≤‡∏ï‡∏≠‡∏ö‡∏ä‡πâ‡∏≤‡∏°‡∏≤‡∏Å‡πÜ.</p>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>
</template>

<style scoped>
.glassmorhpism {
  background: rgba( 0, 0, 0, 0.3 );
  box-shadow: 0 8px 32px 0 rgba(0, 0, 0, 0.37);
  backdrop-filter: blur( 13.5px );
  -webkit-backdrop-filter: blur( 13.5px );
  border-radius: 10px;
  border: 1px solid rgba( 255, 255, 255, 0.18 );
}
</style>